{% extends base_template %}

{% block title %}Select user facility {% endblock title %}

{% block content %}

<div id="facility-list-container">
    <h1>Facilities</h1>
    <ul id="facility-list">
        {% if facilities %}
            {% for facility in facilities %}
            <div class="facility-title">
                <h2><div id="facility-name">{{ facility }}</div><a class="facility-action simple-button" href="{{ facility.id }}/">Edit facility</a>
                {% if not is_central %}    
                    <a class="facility-action simple-button" href="{% url add_facility_student %}?facility={{facility.id}}">Add student</a> 
                    <a class="facility-action simple-button" href="{% url add_facility_teacher %}?facility={{facility.id}}">Add teacher</a>
                    <a class="facility-action simple-button" href="{% url add_group %}?facility={{facility.id}}">Add group</a></h2>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            {% if request.is_admin or is_central %}
                <p>You currently have no facilities. Would you like to <a href="new/">create a facility</a>?</p>
            {% else %}
                <p>There are currently no facilities available, please ask an administrator or teacher to set one up.</p>
            {% endif %}
        {% endif %}
        <p id="facility"></p>

<script>
    {% if is_central %}
    $('#facility').append('<a id="add-facility-button" href="{% url central_facility_add zone_id=zone_id %}"> Add a new Facility</a>');
    {% elif request.is_admin %}
    $('#facility').append('<a id="add-facility-button" href="{% url facility_edit id="new" %}"> Add a new Facility</a>');
    {% endif %}
</script>

<style>
.facility-action {
    font-size: 12px;
    margin-left: 10px;
    float: left;
    margin-bottom: 12px;
}

#facility-name {
    font-size: 14px;
    float: left;
    width: 135px;
    clear: both;
    padding-bottom: 12px;
    padding-top: 3px;
}

#add-facility-button {
    float: left;
    clear: both;
    padding-top: 30px;
}
</style>

{% endblock content %}